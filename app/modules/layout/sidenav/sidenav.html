<div layout="column" flex layout-fill>
    <md-sidenav class="md-sidenav-left" md-component-id="left" hide-print
                md-is-locked-open="$mdMedia('gt-sm')" md-whiteframe="1" flex>
        <header>
            <h1 class="md-toolbar-tools">{{'SIDENAV.HEADLINE' | translate}}</h1>
        </header>
        <md-content role="navigation" flex>
            <ul class="side-menu">
                <li ng-repeat="section in $ctrl.menu.sections">
                    <md-button ng-if="section.type === 'link'" ng-class="{ 'sepl-btn': $ctrl.isActiveState(section.state) }"
                               ng-click="$ctrl.toggleSection(section)"
                               class="md-button-toggle"
                               ui-sref="{{section.state}}">
                        <md-icon>{{section.icon}}</md-icon>
                        <span style="width: 5px"> </span>
                        {{section.name | translate}}
                    </md-button>
                    <md-button ng-if="section.type === 'toggle'" ng-click="$ctrl.toggleSection(section)"
                               ng-class="{ 'sepl-btn': $ctrl.isSectionOpen(section) }" class="md-button-toggle">
                        <div layout="row" flex>
                            <md-icon>{{section.icon}}</md-icon>
                            <span style="width: 5px"> </span>
                            {{section.name | translate}}
                            <span flex></span>
                            <md-icon aria-hidden="true" class="md-toggle-icon"
                                     ng-class="{'toggled' : $ctrl.isSectionOpen(section)}">keyboard_arrow_down
                            </md-icon>
                        </div>
                    </md-button>
                    <ul ng-class="{'toggled' : $ctrl.isSectionOpen(section)}"
                        class="menu-toggle-list">
                        <li ng-repeat="page in section.pages" layout="row">
                            <md-button ui-sref-active="{ 'sepl-btn': page.state }"
                                       ng-click="$ctrl.toggleSidenav()"
                                       class="md-button-toggle"
                                       ui-sref="{{page.state}}">
                                <md-icon>{{page.icon}}</md-icon>
                                {{page.name | translate}}
                            </md-button>
                        </li>
                    </ul>
                </li>
            </ul>
        </md-content>
    </md-sidenav>
</div>

